
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8"/>
<title>Websocket</title>
</head>
<body>
<h1>WebSocket测试</h1>
<form>
<p>
            字符串: <input id="content" type="text" placeholder="字符串" value="123456">
</p>
</form>
<label id="result">结果为：</label><br><br>
<button onclick="send()">发送</button>

<script type="text/javascript">
var sock = null;
var wsuri = "ws://127.0.0.1:6432/test1";
        sock = new WebSocket(wsuri);
        sock.onopen=function(e){
            alert("连接成功");
        }
        sock.onclose=function(e){
            alert("关闭了");
        }
        sock.onerror=function(e){
            alert("error "+e);
        }
        sock.onmessage = function(e) {
var result = document.getElementById('result');
            result.innerHTML = "结果为：" + e.data;
        }

function send() {
var msg = document.getElementById('content').value;
            sock.send(msg);
        }
</script>
</body>
</html>
